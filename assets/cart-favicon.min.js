!function(){var t={addon:window.themeVariables.settings.addons.cartFavicon,settings:window.themeVariables.settings,variables:window.themeVariables.variables};const i={faviconDefault:t.settings.faviconUrl,faviconCart:t.addon.icon,cartCount:t.variables.cart.itemCount};function e(t){const a=t?t.item_count:i.cartCount;document.querySelectorAll(".favicon").forEach(t=>{if(i.faviconCart&&(0<a?t.setAttribute("href",i.faviconCart):t.setAttribute("href",i.faviconDefault)),!i.faviconCart&&i.faviconDefault){var e=a;if(!(t.classList.contains("notification-enabled")&&0<e))if(0<e){var n=t;const o=document.createElement("img");o.crossOrigin="anonymous",o.src=i.faviconDefault,o.onload=function(){var t=document.createElement("canvas"),e=t.getContext("2d"),a=o.width-o.width/4.5-5,i=o.width/4.5,t=(t.width=o.width,t.height=o.height,e.clearRect(0,0,o.width,o.height),e.drawImage(o,0,0),e.fillStyle="#eb361e",e.strokeStyle="#ffffff",e.lineWidth=5,e.beginPath(),e.arc(a,25,i,0,2*Math.PI,!1),e.closePath(),e.fill(),e.stroke(),e.canvas.toDataURL());c(n,t,0,"add")}}else c(t,i.faviconDefault,0,"remove")}})}function c(t,e,a,i){var n=document.querySelector("head"),o=document.createElement("link");o.sizes="192x192",o.type="image/x-icon",o.rel="shortcut icon",o.id="favicon",o.href=e,t.remove(),n.appendChild(o),o.classList[i]("notification-enabled")}i.faviconDefault&&(e(),document.addEventListener("theme:cart:loaded",t=>{e(t.detail.cart)}))}();