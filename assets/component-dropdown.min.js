window.theme=window.theme||{},theme.Dropdown=function(e){e=e||document;const d={dropdownOpen:"dropdown--open",dropdownOutside:"dropdown--outside"},r={dropdown:".dropdown",dropdownToggle:":scope > .dropdown__toggle",dropdownMenu:":scope > .dropdown__menu",dropdownSelect:".dropdown select"},o=e.querySelectorAll(r.dropdown);e=e.querySelectorAll(r.dropdownSelect);if(o.length){let t=!1;function s(e){var o=e.querySelectorAll(r.dropdownToggle),n=e.querySelectorAll(r.dropdownMenu);e.classList.add(d.dropdownOpen),o.forEach(e=>{e.setAttribute("aria-expanded",!0)}),n.forEach(e=>{var o=e.getBoundingClientRect().top,o=window.innerHeight-(o+25);e.classList.add(d.dropdownOpen),e.style.maxHeight=o+"px",i(e)})}function a(o){var e=o.querySelectorAll(r.dropdownToggle),n=o.querySelectorAll(r.dropdownMenu);e.forEach(e=>{e.setAttribute("aria-expanded",!1)}),n.forEach(e=>{theme.helpers.closeTransition({elementToTransition:e,animationSpeed:window.themeVariables.animation.speed},function(){o.classList.remove(d.dropdownOpen),e.classList.remove(d.dropdownOpen)})})}function l(){o.forEach(e=>{e.classList.contains(d.dropdownOpen)&&a(e)})}function i(e){document.body.clientWidth<e.getBoundingClientRect().left+e.offsetWidth&&e.classList.add(d.dropdownOutside)}o.forEach(n=>{let o=null;n.querySelectorAll(r.dropdownMenu).forEach(e=>{i(e)}),n.addEventListener("mouseenter",()=>{t=!1,null!==o&&(clearTimeout(o),o=null);var e=d.dropdownOpen;n.classList.contains(e)||s(n)},{passive:!0}),n.addEventListener("touchstart",e=>{var o=d.dropdownOpen,e=e.target.closest(".dropdown__menu");(!n.classList.contains(o)||e?s:a)(n)},{passive:!0}),document.addEventListener("touchstart",e=>{e.target.closest(r.dropdown)||l()},{passive:!0}),n.addEventListener("mouseleave",e=>{null===e.relatedTarget||t||(e=d.dropdownOpen,n.classList.contains(e)&&(o=setTimeout(()=>{a(n)},300)))},{passive:!0})}),e.forEach(e=>{e.addEventListener("change",()=>{t=!0})}),window.addEventListener("resize",()=>{o.forEach(e=>{e.querySelectorAll(r.dropdownMenu).forEach(e=>{i(e)})})}),document.addEventListener("keyup",e=>{if(9===e.which){const n=function(o,n){if(o&&n){var t=[];let e=o.closest(n);for(;null!==e;)t.push(e),e=e.parentElement.closest(n);return t}}(document.activeElement,r.dropdown);n.length?(o.forEach(o=>{!n.some(e=>o===e)&&o.classList.contains(d.dropdownOpen)&&a(o)}),n.forEach(e=>{e.classList.contains(d.dropdownOpen)||s(e)})):l()}})}};